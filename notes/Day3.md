___
### 단순 연산 2
##### 문자열 결합 연산 paste()
문자열에 대한 연산으로 paste() 함수를 이용하여 문자를 연결하는 연산이 있다. paste() 함수는 문자열을 공백 하나를 사이에 두고 하나의 문자열을 합쳐 준다.
```r
> paste(2024, 3)
[1] "2024 3"
> paste("March", 11, 2024)
[1] "March 11 2024"
> paste(2024, 11, 22, sep = "-")
[1] "2024-11-22"
> paste(2024, 11, 22, sep = "/")
[1] "2024/11/22"
> paste(2024, 11, 22, sep = "")
[1] "20241122"

# sep : 두 문자열의 사이에 다양한 문자를 넣을 수 있다.
```

##### 문자열 분리 연산 strsplit()
paste() 연산자와 반대로 여러 문자열을 여러 문자열로 분리하는 함수, split 인자로 문자열을 분리하는 기준 설정
```R
> strsplit("2024-12-22", split = "-")
[[1]]
[1] "2024" "12"   "22" 

> strsplit("2016-01-22 11:16:34", split = ":")
[[1]]
[1] "2016-01-22 11" "16"            "34"           

> strsplit("2016-01-22 11:16:34", split = "16")
[[1]]
[1] "20"         "-01-22 11:" ":34"    

# split에 두 가지 이상의 분리 기준을 적용하고 싶으면 정규식 표현을 사용한다.
> strsplit("2016-01-22 11:16:34", split = "[- :]")
[[1]]
[1] "2016" "01"   "22"   "11"   "16"   "34"  
```

**정규식**



### 변수와 할당
- 변수는 메모리 공간에 붙이는 레이블
	- 변수는 데이터를 저장해 두는 공간이다.
	- 사실 데이터를 저장해 두는 공간에 라벨을 붙여두는 것
	- 라벨을 이용하여 데이터가 저장된 공간에 가서 그 데이터 값을 가져와 이용한다.
- 변수에 값 할당하기
	- assignments는 어떤 변수에 데이터를 저장하는 것을 말한다.
- 할당 연산자
	- 변수에 데이터를 할당하는 것은 `<-`or `=` 연산자를 이용한다.
	- `<-` : 연산자 오른쪽의 데이터를 왼쪽에 변수에 집어넣는다.
```r
x <- 5
y = 6
> x
[1] 5
> y
[1] 6

# 변수를 이용한 연산
> x + 2
[1] 7
> x * 2
[1] 10
> x^2
[1] 25
> x # 변수 할당 함수를 사용하지 않으면 원래의 값은 변하지 않는다.
[1] 5

```

##### 변수에 값 재할당하기
```r
> x <- 7
> x + 2
[1] 9
> x*2
[1] 14
> x^2
[1] 49
> 2^x
[1] 128
```

##### 할당문은 우변이 수행된 후 좌변으로 할당이 이루어진다.
한 명령문 안에서 x의 값을 가져와 연산에 이용한 후 그 결과를 다시 x 에 재할당할 수 있다.
이 경우 `<-` 연산자 오른편의 연산이 먼저 수행된 후 왼편의 변수로 할당
```r
> x
[1] 7
> x <- x + 1; x
[1] 8
> x
[1] 8

> x <- 2 + x; x
[1] 10
> x
[1] 10

> x <- x*2; x
[1] 20
> x
[1] 20

> x <- x^2; x
[1] 400
> x
[1] 400


> y = 2 * x
> y
[1] 800
> x
[1] 400
```

##### 변수 제거하기 rm()
여러 가지 이유로 변수를 제거할 필요가 있을 수 있다. 변수를 제거하려면 rm() 함수를 이용한다.
```r
> x; y
[1] 400
[1] 800
> rm(x, y)
> x
Error: object 'x' not found
> y
Error: object 'y' not found
```
rm() 함수로 변수를 제거하면 변수가 사용하는 메모리는 자유롭게 되며, R이 다른 용도로 이용할 수 있다. 여기서 주의할 점은 rm()에 의해서 메모리가 자유롭게 되더라도 R이 사용하던 메모리가 운영체제로 바로 반환되지는 않는다는 것이다. 이를 처리하려면 gc() 함수를 이용하여 garbage collection을 하도록 해야 한다. 그러나 사실 R은 주기적으로 garbage collection을 하므로 특별한 이유가 없으면 이를 별도로 수행할 필요는 없다.


##### 변수 목록 확인하기 ls()
```r
> a = 5
> b = 7
> ls()
[1] "a" "b"
> rm(list = ls())
> ls()
character(0)
```

##### assign()
assign()는 함수로도 변수의 할당은 할 수 있다. 대부분의 경우는 이 함수를 이용하는 것보다는 앞서 사용한 연산자를 이용하여 변수 값을 할당하는 것이 편리하다.
그러나 가끔 많은 변수를 자동적으로 생성해야 하는 경우나 데이터베이스에서 변수의 이름을 읽어들여와 값을 할당하는 등의 경우에 사용하는 함수이다.
```r
> x1
Error: object 'x1' not found

> assign("x1", 5)
> x1
[1] 5

> assign("x1", x1+3)
> x1
[1] 8
```


### 함수를 이용한 연산
함수는 입력으로 어떤 값을 받은 후 출력으로 어떤 값을 반환한다. 함수가 어떤 값을 입력받고 반환하는 지는  함수마다 다르다.

##### 함수 호출하기
```r
# 기본 함수 형태
## > 함수이름(함수 입력 인수)
## 함수 출력 값

> # function
> sqrt(4) # 제곱근
[1] 2
> (sqrt(9) + 2) / 4
[1] 1.25
> sin( (sqrt(9) + 2) / 4)
[1] 0.9489846

```

**주요 수학 함수**
| **수학 함수**            | **설명**                                                                 |
|---------------------------|-------------------------------------------------------------------------|
| `ceiling(x)`              | x의 값을 정수로 올림                                                    |
| `floor(x)`                | x의 값을 정수로 내림                                                    |
| `trunc(x)`                | x의 값의 소수점 자리를 버림                                             |
| `round(x)`                | x의 값을 반올림                                                        |
| `round(x, digits=n)`      | x의 값을 소수점 n자리에서 반올림                                        |
| `sqrt(x)`                 | x의 제곱근                                                             |
| `exp(x)`                  | x의 지수함수 값                                                        |
| `log(x)`                  | 자연대수를 밑으로 하는 로그 값                                          |
| `log(x, base=a)`          | a를 밑으로 하는 로그 값                                                |
| `sin(x), cos(x), tan(x)`  | x의 삼각함수 값                                                        |
| `factorial(n)`            | n! = 1 × 2 × ⋯ × n (n의 팩토리얼 값)                                   |
| `choose(n, k)`            | n 개 중 k를 뽑는 조합의 수                                             |



##### 실수를 정수로 변환하는 함수
```r
> a = 3.141593
> ceiling(a) # 올림
[1] 4
> floor(a) # 내림
[1] 3
> trunc(a) # 버림
[1] 3
> round(a) # 반올림
[1] 3
> round(a, digits = 2) # 자리수 반올림
[1] 3.14
```


##### 순열과 조합 함수
```r
# factorial
> factorial(5)
[1] 120
> factorial(30)
[1] 2.652529e+32
> format(factorial(30), scientific = FALSE, )
[1] "265252859812191032188804700045312"

# combination
> choose(5, 2)
[1] 10
> choose(45, 6)
[1] 8145060
```